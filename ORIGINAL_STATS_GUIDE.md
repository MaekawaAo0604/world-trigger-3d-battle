# 📊 原作準拠ステータスシステム

## 🎯 概要

**ワールドトリガー原作の公式ステータス**を忠実に再現し、**トリオン係数システム**により実際のゲーム内数値に変換するシステムを実装しました。

---

## ⚡ トリオン係数システム

### 📈 **係数テーブル（0-12スケール・3乗計算）**

**計算式: トリオン容量 = トリオン値³ × 30** (三雲修基準)

| 係数 | 実際のトリオン量 | ランク | 説明 | 例 |
|------|----------------|--------|------|-----|
| 0 | 10 | F | 極めて低い（最小値） | - |
| 1 | 30 | F | 非常に低い | - |
| 2 | **240** | E | **低い（基準値）** | **三雲修（トリオン）** |
| 3 | 810 | D | やや低い | 雨取千佳（機動力） |
| 4 | 1920 | C | 標準（一般隊員） | 空閑遊真（トリオン） |
| 5 | 3750 | B | やや高い | - |
| 6 | 6480 | B+ | 高い | 迅悠一（トリオン） |
| 7 | 10290 | A | 非常に高い | - |
| 8 | 15360 | A+ | 極めて高い | - |
| 9 | 21870 | S | 異常に高い | 空閑遊真（機動力） |
| 10 | 30000 | S+ | 規格外 | 迅悠一（技術） |
| 11 | 39930 | SS | 超規格外 | 空閑遊真（技術） |
| 12 | **51840** | **SS+** | **最高レベル** | **雨取千佳（トリオン）** |

---

## 🎭 キャラクター別ステータス

### 📘 **三雲修（シューター）** - 基準値
```
📊 原作ステータス (0-12):
機動力: 3/12 [D] ████░░░░░░░░
技術: 6/12 [B+] ██████░░░░░░
射程: 7/12 [A] ███████░░░░░
指揮: 8/12 [A+] ████████░░░░
特殊戦術: 5/12 [B] █████░░░░░░░
トリオン: 2/12 [E] ██░░░░░░░░░░

🎮 ゲーム内ステータス:
トリオン容量: 240（基準値）
├─基本トリオン (固定): 120
├─装備トリオン (1/10): 24
└─戦闘トリオン (残り): 96
機動力: 25
装備可能トリガー: 2個（コスト10×2）

🎯 戦闘スタイル: 戦術指揮型シューター
📈 総合評価: C級レベル（指揮能力はA級）
```

### ⚡ **雨取千佳（スナイパー）**
```
📊 原作ステータス (0-12):
機動力: 2/12 [E] ★★☆☆☆☆☆☆☆☆☆☆
技術: 3/12 [D] ★★★☆☆☆☆☆☆☆☆☆
射程: 11/12 [SS] ★★★★★★★★★★★☆
指揮: 2/12 [E] ★★☆☆☆☆☆☆☆☆☆☆
特殊戦術: 2/12 [E] ★★☆☆☆☆☆☆☆☆☆☆
トリオン: 12/12 [SS+] ★★★★★★★★★★★★

🎮 ゲーム内ステータス:
トリオン容量: 51840（圧倒的）
├─基本トリオン (固定): 120
├─装備トリオン (1/10): 5184
└─戦闘トリオン (残り): 46536
機動力: 17
装備可能トリガー: 518個（実質制限なし）

🎯 戦闘スタイル: 圧倒的物量戦
📈 総合評価: S級レベル
```

### ⚔️ **空閑遊真（アタッカー）**
```
📊 原作ステータス (0-12):
機動力: 9/12 [S] ★★★★★★★★★☆☆☆
技術: 11/12 [SS] ★★★★★★★★★★★☆
射程: 3/12 [D] ★★★☆☆☆☆☆☆☆☆☆
指揮: 6/12 [B+] ★★★★★★☆☆☆☆☆☆
特殊戦術: 10/12 [S+] ★★★★★★★★★★☆☆
トリオン: 4/12 [C] ★★★★☆☆☆☆☆☆☆☆

🎮 ゲーム内ステータス:
トリオン容量: 1920（標準）
├─基本トリオン (固定): 120
├─装備トリオン (1/10): 192
└─戦闘トリオン (残り): 1608
機動力: 75
装備可能トリガー: 19個（豊富な選択肢）

🎯 戦闘スタイル: 技巧派アタッカー
📈 総合評価: S級レベル
```

### 🌟 **迅悠一（オールラウンダー）**
```
📊 原作ステータス (0-12):
機動力: 8/12 [A+] ★★★★★★★★☆☆☆☆
技術: 10/12 [S+] ★★★★★★★★★★☆☆
射程: 7/12 [A] ★★★★★★★☆☆☆☆☆
指揮: 9/12 [S] ★★★★★★★★★☆☆☆
特殊戦術: 12/12 [SS+] ★★★★★★★★★★★★
トリオン: 6/12 [B+] ★★★★★★☆☆☆☆☆☆

🎮 ゲーム内ステータス:
トリオン容量: 6480（高い）
├─基本トリオン (固定): 120
├─装備トリオン (1/10): 648
└─戦闘トリオン (残り): 5712
機動力: 67
装備可能トリガー: 64個（豊富な戦術選択）

🎯 戦闘スタイル: 特殊戦術の専門家
📈 総合評価: S級レベル
```

---

## 🎮 システムの特徴

### ✅ **実装された機能**

1. **トリオン係数計算（3乗）**
   - 原作値（0-12）→ 実際のトリオン量変換
   - 雨取千佳のトリオン12 → 8640という圧倒的な数値

2. **原作準拠ステータス**
   - 公式データブックの数値を忠実に再現
   - 各キャラクターの特徴を数値で表現

3. **ゲーム内変換**
   - 原作ステータス → ゲーム内ステータス（0-100）
   - 機動力とトリオンのみがゲームに影響

4. **視覚的表現**
   - バー表示システム（星評価から変更）
   - ランク表示（F〜SS+）
   - 色分けによる直感的理解

### 🔧 **技術実装**

#### **TrionCalculator クラス**
```typescript
// トリオン係数から実際の容量を計算（3乗計算）
static calculateTrionCapacity(trionCoefficient: number): number {
  if (trionCoefficient <= 0) return 10;
  const capacity = Math.pow(trionCoefficient, 3) * this.BASE_COEFFICIENT;
  return Math.floor(capacity);
}
```

#### **StatDisplayUtils クラス**
```typescript
// バー表示生成
static createStatBar(value: number, maxValue: number = 12): HTMLElement {
  const container = document.createElement('div');
  const fill = document.createElement('div');
  const percentage = (value / maxValue) * 100;
  fill.style.width = `${percentage}%`;
  fill.style.background = this.getStatColor(value);
  return container;
}

// ランク判定
static getStatRank(value: number): string {
  if (value >= 11) return 'SS';
  if (value >= 9) return 'S';
  // ...
}
```

---

## 🎯 戦略的な効果

### 📈 **キャラクター差別化**

1. **三雲修**: 基準値・戦術特化
   - 装備可能トリガー2個のみ（最も制限が厳しい）
   - 指揮能力で戦術的アドバンテージ
   - 努力と工夫で戦う原作スタイル
   - プレイヤーのスキルが最も重要

2. **雨取千佳**: トリオン量で圧倒的優位
   - 装備可能トリガー518個（実質制限なし）
   - 持続戦闘能力が極めて高い
   - 機動力の低さが弱点

3. **空閑遊真**: 技術・機動力特化
   - 装備可能トリガー19個（豊富な選択肢）
   - 近接戦闘のエキスパート
   - 特殊戦術による戦術的優位

4. **迅悠一**: バランス・指揮特化
   - 装備可能トリガー64個（戦術多様性）
   - サイドエフェクトによる特殊性
   - 中〜長距離戦が得意

### ⚖️ **ゲームバランス**

- **トリオン格差**: 現実的な能力差を再現
- **弱点の存在**: 完璧なキャラクターなし
- **戦術的選択**: キャラ特性に応じた装備選択
- **原作再現**: ファンが納得する数値設定

---

## 🔍 使用方法

### 🎮 **ゲーム内表示**

キャラクター選択画面で以下が表示されます：

1. **トリオン容量**
   - 実際の数値とランク
   - 原作値とスター評価

2. **原作ステータス（0-12）**
   - 機動力、技術、射程、指揮、特殊戦術
   - 数値、ランク、スター表記

3. **ゲーム内ステータス**
   - 0-100スケールの計算済み数値
   - 機動力、攻撃力、防御力、技術力

### 🧪 **テスト・検証**

```typescript
import { runOriginalStatsValidation } from './tests/OriginalStatsTest';

// ステータスシステムの動作確認
runOriginalStatsValidation();
```

---

## 🎉 まとめ

**原作準拠ステータスシステム**により：

- ✅ ワールドトリガー公式数値の忠実な再現
- ✅ トリオン係数による現実的な戦力差
- ✅ キャラクター毎の明確な特色と戦略性
- ✅ 原作ファンが納得する数値バランス
- ✅ 戦略的深度の大幅向上

**原作の戦略性とキャラクター性を完璧に再現した、より深いゲーム体験をお楽しみください！** 🎮⚡